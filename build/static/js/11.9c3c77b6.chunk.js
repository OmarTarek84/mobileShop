(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{167:function(e,t,a){"use strict";a.r(t);var n=a(23),r=a(0),i=a.n(r),l=a(50),o=a(57),s=a.n(o),u=a(60),c=a(8),p=a(18),d=a(56),m=a(62),v=a(51);t.default=function(e){var t=Object(c.b)(),a=Object(r.useState)(""),o=Object(n.a)(a,2),f=o[0],E=o[1],h=Object(m.a)({email:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1),b=Object(n.a)(h,2),g=b[0],y=b[1];return i.a.createElement("div",{className:"formParent"},i.a.createElement("h1",null,"SIGN IN Form"),i.a.createElement("form",{className:"login-form",onSubmit:function(a){var n;a.preventDefault(),n={query:"\n                query LoginUser($email: String!, $password: String!) {\n                    loginUser(email: $email, password: $password) {\n                        token\n                        tokenExpiration\n                        userId\n                        firstname\n                      }\n                }\n            ",variables:{email:g.inputs.email.value,password:g.inputs.password.value}},s.a.post("http://localhost:8080/graphql",JSON.stringify(n),{headers:{"Content-Type":"application/json"}}).then(function(a){var n=a.data.data.loginUser.token,r=a.data.data.loginUser.userId,i=a.data.data.loginUser.firstname;console.log(localStorage.getItem("expDate")),t(p.a(n,r,i,localStorage.getItem("expDate"))),e.history.push("/")}).catch(function(e){E(e)})}},i.a.createElement(u.a,{element:"input",type:"email",placeholder:"Your Email",id:"email",onInput:y,label:"E-mail",validators:[Object(d.f)(),Object(d.a)()]}),i.a.createElement(u.a,{element:"input",type:"password",placeholder:"Password",id:"password",label:"Your Password",onInput:y,validators:[Object(d.f)()]}),i.a.createElement("div",{className:"submit-button"},i.a.createElement(l.a,{type:"submit",disabled:!g.isValid},"SIGN IN!"))),i.a.createElement(v.a,{open:!!f,onClose:function(){return E("")},errorMessage:f.response&&f.response.data&&f.response.data.errors[0]?f.response.data.errors[0].message:"Unknown Error, We'll fix it soon"}))}},50:function(e,t,a){"use strict";var n=a(0),r=a.n(n);a(52);t.a=function(e){return r.a.createElement("button",{onClick:e.clicked,type:e.type,disabled:e.disabled,className:"buttonn"},e.children)}},51:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(50),l=a(64);t.a=function(e){return r.a.createElement(l.a,{open:e.open,onClose:e.onClose,center:!0},r.a.createElement("h2",{style:{textAlign:"center",marginTop:"11%"}},"An Error Occurred"),r.a.createElement("p",{style:{marginTop:"12px"}},e.errorMessage),r.a.createElement("div",{style:{marginTop:"25px",textAlign:"center",display:"flex",justifyContent:"space-around"}},e.firstButton?r.a.createElement(i.a,{type:"button",clicked:e.firstButtonMethod},e.firstButtonTitle):null,e.secondButton?r.a.createElement(i.a,{type:"button",clicked:e.secondButtonMethod},e.secondButtonTitle):null))}},52:function(e,t,a){},56:function(e,t,a){"use strict";a.d(t,"f",function(){return n}),a.d(t,"e",function(){return r}),a.d(t,"d",function(){return i}),a.d(t,"a",function(){return l}),a.d(t,"b",function(){return o}),a.d(t,"c",function(){return s}),a.d(t,"g",function(){return u});var n=function(){return{type:"REQUIRE"}},r=function(e){return{type:"MINLENGTH",val:e}},i=function(e){return{type:"MAXLENGTH",val:e}},l=function(){return{type:"EMAIL"}},o=function(){return{type:"ISNUMBER"}},s=function(e){return{type:"MATCHPASSWORDS",val:e}},u=function(e,t){var a=[{text:"This Field Is Required",appear:!1},{text:"This Field Is not number",appear:!1},{text:"This Field Must Have Maximum 150 characters",appear:!1},{text:"Email Is Not Valid",appear:!1},{text:"Passwords do not match",appear:!1},{text:"Password should have at least 8 characters",appear:!1}],n=!0,r=!0,i=!1,l=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;"REQUIRE"===u.type&&(n=n&&e.trim().length>0,a[0].appear=e.trim().length<=0),"MINLENGTH"===u.type&&(n=n&&e.trim().length>=u.val,a[5].appear=e.trim().length<u.val&&e.trim().length>0),"MAXLENGTH"===u.type&&(n=n&&e.trim().length<=u.val,a[2].appear=e.trim().length>u.val),"EMAIL"===u.type&&(n=n&&/^\S+@\S+\.\S+$/.test(e),a[3].appear=!/^\S+@\S+\.\S+$/.test(e)&&e.trim().length>0),"ISNUMBER"===u.type&&(n=n&&/^[+-]?\d+(\.\d+)?$/.test(e),a[1].appear=!/^[+-]?\d+(\.\d+)?$/.test(e)&&e.trim().length>0),"MATCHPASSWORDS"===u.type&&(n=n&&e===u.val,a[4].appear=e!==u.val&&e.trim().length>0)}}catch(c){i=!0,l=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw l}}return{isValid:n,errorMessages:a}}},60:function(e,t,a){"use strict";var n=a(23),r=a(3),i=a(0),l=a.n(i),o=a(56),s=(a(61),function(e,t){switch(t.type){case"CHANGE":return Object(r.a)({},e,{value:t.val,isValid:Object(o.g)(t.val,t.validators).isValid});case"TOUCH":return Object(r.a)({},e,{isTouched:!0});default:return e}});t.a=function(e){var t=Object(i.useReducer)(s,{value:e.initialValue||"",isTouched:!1,isValid:e.initialValid||!1}),a=Object(n.a)(t,2),r=a[0],u=a[1],c=e.id,p=e.onInput,d=r.value,m=r.isValid;Object(i.useEffect)(function(){p(c,d,m)},[c,d,m,p]);var v,f=function(t){u({type:"CHANGE",val:t.target.value,validators:e.validators})},E=function(){u({type:"TOUCH"})};switch(e.element){case"input":v=l.a.createElement("input",{id:e.id,type:e.type,placeholder:e.placeholder,onChange:f,onBlur:E,value:r.value});break;case"textarea":v=l.a.createElement("textarea",{id:e.id,rows:e.rows||3,onChange:f,onBlur:E,value:r.value});break;case"select":v=l.a.createElement("select",{id:e.id,onChange:f,onBlur:E,value:r.value},l.a.createElement("option",{value:"samsung"},"Samsung"),l.a.createElement("option",{value:"iphone"},"Iphone"),l.a.createElement("option",{value:"oppo"},"Oppo"),l.a.createElement("option",{value:"vivo"},"Vivo"),l.a.createElement("option",{value:"nokia"},"Nokia"),l.a.createElement("option",{value:"lenovo"},"Lenovo"),l.a.createElement("option",{value:"sony"},"Sony"));break;default:v=l.a.createElement("input",Object.assign({id:e.id,type:e.type,placeholder:e.placeholder,onChange:f,onBlur:E,value:r.value},e))}return l.a.createElement("div",{className:"form-control ".concat(!r.isValid&&r.isTouched&&"form-control--invalid")},l.a.createElement("label",{htmlFor:e.id},e.label),v,!r.isValid&&r.isTouched&&l.a.createElement(l.a.Fragment,null,Object(o.g)(r.value,e.validators).errorMessages.map(function(e){if(e.appear)return l.a.createElement("p",{key:e.text},e.text)})))}},61:function(e,t,a){},62:function(e,t,a){"use strict";a.d(t,"a",function(){return s});var n=a(23),r=a(25),i=a(3),l=a(0),o=function(e,t){switch(t.type){case"INPUT_CHANGE":var a=!0;for(var n in e.inputs)e.inputs[n]&&(a=n===t.inputId?a&&t.isValid:a&&e.inputs[n].isValid);return Object(i.a)({},e,{inputs:Object(i.a)({},e.inputs,Object(r.a)({},t.inputId,{value:t.value,isValid:t.isValid})),isValid:a});case"SET_DATA":return{inputs:t.inputs,isValid:t.formIsValid};default:return e}},s=function(e,t){var a=Object(l.useReducer)(o,{inputs:e,isValid:t}),r=Object(n.a)(a,2),i=r[0],s=r[1];return[i,Object(l.useCallback)(function(e,t,a){s({type:"INPUT_CHANGE",value:t,isValid:a,inputId:e})},[]),Object(l.useCallback)(function(e,t){s({type:"SET_DATA",inputs:e,formIsValid:t})},[])]}}}]);
//# sourceMappingURL=11.9c3c77b6.chunk.js.map